// Import Firebase scripts
importScripts("https://www.gstatic.com/firebasejs/12.5.0/firebase-app.js");
importScripts("https://www.gstatic.com/firebasejs/12.5.0/firebase-messaging-compat.js");

// Firebase configuration
/*
How to get firebase config:
    1. Go to your Firebase Console
    2. Select your project
    3. Click on the gear icon next to "Project Overview" to go to "Project settings"
    4. Scroll down to "Your apps" section and select the web app
    5. You will find the Firebase SDK snippet which contains your configuration
    6. Copy the config object and paste it below
*/

// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
    apiKey: "",
    authDomain: "",
    projectId: "",
    storageBucket: "",
    messagingSenderId: "",
    appId: "",
    measurementId: ""
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);

// Get messaging instance
const messaging = firebase.messaging();

// Background message handler
messaging.onBackgroundMessage((payload) => {
    console.log(
        "[firebase-messaging-sw.js] Received background message ",
        payload
    );
    // Customize notification here
    const notificationTitle = payload.notification.title;
    const notificationOptions = {
        body: payload.notification.body,
        icon: '/favicon.png' // Replace with your icon path if any
    };

    self.registration.showNotification(notificationTitle, notificationOptions);
});